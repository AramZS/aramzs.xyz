---
author: Lauren Leek
cover_image: >-
  https://substackcdn.com/image/fetch/$s_!sPnJ!,w_1200,h_600,c_fill,f_jpg,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png
date: '2025-12-21T16:52:50.197Z'
dateFolder: 2025/12/21
description: >-
  I wanted a dinner recommendation and got a research agenda instead. Using
  13000+ restaurants, I rebuild its ratings with machine learning and map how
  algorithmic visibility actually distributes power.
isBasedOn: 'https://laurenleek.substack.com/p/how-google-maps-quietly-allocates'
link: 'https://laurenleek.substack.com/p/how-google-maps-quietly-allocates'
slug: 2025-12-21-httpslaurenleeksubstackcomphow-google-maps-quietly-allocates
tags:
  - uk
  - seo
  - tech
title: >-
  How Google Maps quietly allocates survival across London’s restaurants - and
  how I built a dashboard to see through it
---
<h3>I wanted a dinner recommendation and got a research agenda instead. Using 13000+ restaurants, I rebuild its ratings with machine learning and map how algorithmic visibility actually distributes power.</h3>
<p>I needed a restaurant recommendation, so I did what every normal person would do: I scraped every single restaurant in Greater London and built a machine-learning model.</p>
<p>It started as a very reasonable problem. I was tired of doom-scrolling Google Maps, trying to disentangle genuinely good food from whatever the algorithm had decided to push at me that day. Somewhere along the way, the project stopped being about dinner and became about something slightly more unhinged: how digital platforms quietly redistribute economic survival across cities.</p>
<p>Because once you start looking at London’s restaurant scene through data, you stop seeing all those cute independents and hot new openings. You start seeing an algorithmic market - one where visibility compounds, demand snowballs, and who gets to survive is increasingly decided by code.</p>
<h4><strong>Google Maps Is Not a Directory. It’s a Market Maker.</strong></h4>
<p>The public story of Google Maps is that it passively reflects “what people like.” More stars, more reviews, better food. But that framing obscures how the platform actually operates. Google Maps is not just indexing demand - it is actively organising it through a ranking system built on a small number of core signals that Google itself has publicly acknowledged: relevance, distance, and prominence.</p>
<p>“Relevance” is inferred from text matching between your search query and business metadata. “Distance” is purely spatial. But “prominence” is where the political economy begins. Google defines prominence using signals such as review volume, review velocity, average rating, brand recognition, and broader web visibility. In other words, it is not just what people think of a place - it is how often people interact with it, talk about it, and already recognise it.</p>
<p>Visibility on these ranked lists determines foot traffic. Foot traffic determines how quickly reviews accumulate. Review accumulation then feeds directly back into the prominence signal. The system compounds. Early discovery generates demand. Demand generates data. Data generates future discovery. This creates a cumulative-advantage dynamic that looks remarkably similar to the way capital compounds in financial markets. This is essentially Robert Merton’s Matthew Effect applied to kebab shops - ‘unto every one that hath shall be given.’</p>
<p>This disproportionately rewards chains and already-central venues. Chains benefit from cross-location brand recognition. High-footfall areas generate reviews faster, meaning venues in those zones climb the prominence ranking more quickly even at identical underlying quality. By contrast, new independents face a classic cold-start problem: without reviews they are hard to find, and without being found they struggle to accumulate reviews at all. What looks like neutral consumer choice is therefore better understood as algorithmically mediated market design<em>.</em></p>
<p>In economics, this dynamic closely resembles the logic of a market maker: an intermediary that does not merely reflect underlying supply and demand, but actively shapes liquidity, matching, and price discovery. Platforms like Google Maps perform an analogous function for local services by controlling visibility rather than prices directly. In the language of digital economics, ranking algorithms act as attention allocators, steering demand toward some firms and away from others.</p>
<h4><strong>Building a Counterfactual City with Machine Learning</strong></h4>
<p>If Google Maps now acts as a kind of market maker for urban demand, the obvious next question is: what would the city look like without that amplification layer? In other words, how do you separate a restaurant’s intrinsic performance from the visibility effects of the platform itself?</p>
<p>To get at that, I built a machine-learning model - a gradient-boosted decision tree (for the ML crowd: <code>HistGradientBoostingRegressor</code> from scikit-learn) - to predict what a restaurant’s Google rating <em>should</em> be, given only its structural characteristics. This class of model is designed for large, messy, mixed-type tabular data and is particularly good at capturing interaction effects, without me having to specify those by hand. Features include how many reviews it has (log-transformed to reflect diminishing returns to attention), what cuisine it serves, whether it is part of a chain or an independent, its price level, broad venue types (restaurant, café, takeaway, bar), and where it sits in the city via a spatial grid.</p>
<p><em>Quick aside: for a subset of places I also scraped review text, languages, and photos. But for this first full-city run I stayed within the Google Maps API free tier - partly for reproducibility, partly because previous grid-scraping adventures taught me that cloud bills compound faster than review counts. So, for future versions, more features will only improve things. In particular, who</em> <em>is doing the reviewing matters. A five-star review of an Indian restaurant written in Hindi probably carries a different signal than one written by someone ordering chips with everything. (No judgment of white British people ofc…)</em></p>
<p>One practical problem I ran into early on is that Google Maps is surprisingly bad at categorising cuisines. A huge share of restaurants are labelled vaguely (“restaurant”, “cafe”, “meal takeaway”), inconsistently, or just incorrectly. So I ended up building a separate cuisine-classification model that predicts cuisine from restaurant names, menu language, and review text where available. In other words, the cuisine filters in the dashboard are not just Google’s tags - they’re machine-learned. This matters more than it might sound: if you misclassify cuisines, you misread diversity, clustering, and who actually competes with whom on the high street. Btw, I briefly considered classifying Pret A Manger as French, just to see if it would make any French people angrier at me than they already are. I didn’t. But I thought about it.</p>
<p>Before any modelling happens, all features go through a standard preprocessing pipeline - imputation, encoding, the usual. Crucially, the model is trained only to learn the <em>mapping</em> between observable platform-visible features and ratings. This allows me to generate a counterfactual expected rating for each restaurant - what the platform would typically assign under those structural conditions. The difference between a restaurant’s real rating and this predicted rating is what I call the rating residual. A positive residual means the restaurant performs materially better than its platform baseline would suggest. A negative residual means it underperforms relative to what the algorithm normally rewards. This is not a perfect measure of food quality - but it <em>is</em> a powerful measure of algorithmic mispricing: where social or culinary value diverges from what the platform structurally amplifies.</p>
<p>One caveat: some restaurants pay for promoted pins or local-search ads. Because paid visibility isn’t publicly disclosed, I can’t estimate how many - which is itself a sign of how opaque platform influence has become. My residuals may partly reflect ad spend I can’t observe.</p>
<h4><strong>Introducing: The London Food Dashboard</strong></h4>
<p>To summarise this, I built the London food dashboard. The dashboard currently allows users to search by name and filter by underrated gems (identified by my machine learning algorithm), cuisine, borough, price level, min rating, and review volume. It is still very much a version-one prototype - but it is already a working microscope into London’s algorithmic food economy.</p>
<p>If you want to explore it yourself, you can find it on my personal website at: <a href="https://laurenleek.eu/food-map">laurenleek.eu/food-map </a>.</p>
<figure><a data-component-name="Image2ToDOM" href="https://substackcdn.com/image/fetch/$s_!sPnJ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png"><picture><img alt="" data-attrs='{"src":"https://substack-post-media.s3.amazonaws.com/public/images/65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png","srcNoWatermark":null,"fullscreen":null,"imageSize":null,"height":579,"width":1456,"resizeWidth":null,"bytes":1343804,"alt":"","title":null,"type":"image/png","href":null,"belowTheFold":true,"topImage":false,"internalRedirect":"https://laurenleek.substack.com/i/180907039?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png","isProcessing":false,"align":null,"offset":false}' sizes="100vw" src="https://substackcdn.com/image/fetch/$s_!sPnJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png" srcset="https://substackcdn.com/image/fetch/$s_!sPnJ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png 424w, https://substackcdn.com/image/fetch/$s_!sPnJ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png 848w, https://substackcdn.com/image/fetch/$s_!sPnJ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png 1272w, https://substackcdn.com/image/fetch/$s_!sPnJ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F65709628-04f8-4288-b0c0-7f933fab17c3_1893x753.png 1456w"/></picture></a></figure>
<p>Naturally, I immediately stress-tested it on my favourite part of London: Islington (maybe all this promo - also in my<a href="https://laurenleek.substack.com/p/we-all-ended-up-in-islington-the"> previous Substack on UK segregation</a> - makes me qualify for a council tax rebate? - I’m looking at you Jeremy Corbyn…). I switched on my “underrated gems” filter - that’s the ML residual at work - set a minimum rating and review count, exclude the eye-wateringly expensive options, and let the bubbles guide me. Bigger, darker bubbles mean places my model thinks the algorithm is undervaluing.</p>
<figure><a data-component-name="Image2ToDOM" href="https://substackcdn.com/image/fetch/$s_!z_mv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png"><picture><img alt="" data-attrs='{"src":"https://substack-post-media.s3.amazonaws.com/public/images/c32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png","srcNoWatermark":null,"fullscreen":null,"imageSize":null,"height":814,"width":1456,"resizeWidth":null,"bytes":2068802,"alt":"","title":null,"type":"image/png","href":null,"belowTheFold":true,"topImage":false,"internalRedirect":"https://laurenleek.substack.com/i/180907039?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png","isProcessing":false,"align":null,"offset":false}' sizes="100vw" src="https://substackcdn.com/image/fetch/$s_!z_mv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png" srcset="https://substackcdn.com/image/fetch/$s_!z_mv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png 424w, https://substackcdn.com/image/fetch/$s_!z_mv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png 848w, https://substackcdn.com/image/fetch/$s_!z_mv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png 1272w, https://substackcdn.com/image/fetch/$s_!z_mv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc32fc0dd-086c-4b12-bf16-d9bbce53ea3e_1918x1072.png 1456w"/></picture></a></figure>
<p>And just like that, I had dinner plans. Do try it yourself.</p>
<p><em>Btw, this is very much still a beta version - which means bugs, blind spots, and lots of room to grow. If something looks odd, missing, or wrong, please leave feature ideas and suggestions in the comments or via the comments on my website. Unlike the VS Code GitHub tracker and its 13.8k open issues, I really do read them.</em></p>
<h4><strong>From Individual Restaurants to Algorithmic Neighbourhoods</strong></h4>
<p>But restaurants don’t fail alone - they fail in ecosystems. I also wanted to understand what happens when platform dynamics scale up from restaurants to entire neighbourhood food ecosystems. So I added a second modelling layer.</p>
<p>First, I aggregate restaurants into small spatial cells (the hexagons you see on the maps - because squares are for people who haven’t thought hard enough about edge effects) and compute summary features for each area: restaurant density, mean rating, mean residual, total reviews, chain share, cuisine entropy, and price level. I then standardise these and run principal component analysis (PCA) to compress them into a single continuous hub score that captures overall “restaurant ecosystem strength” in one dimension. Finally, I apply K-means clustering to the same feature space to classify areas into four structural types: <em>elite</em>, <em>strong</em>, <em>everyday</em>, and <em>weak</em> hubs.</p>
<figure><a data-component-name="Image2ToDOM" href="https://substackcdn.com/image/fetch/$s_!o6bX!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png"><picture><img alt="" data-attrs='{"src":"https://substack-post-media.s3.amazonaws.com/public/images/ab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png","srcNoWatermark":null,"fullscreen":null,"imageSize":null,"height":758,"width":1456,"resizeWidth":null,"bytes":273308,"alt":null,"title":null,"type":"image/png","href":null,"belowTheFold":true,"topImage":false,"internalRedirect":"https://laurenleek.substack.com/i/180907039?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png","isProcessing":false,"align":null,"offset":false}' sizes="100vw" src="https://substackcdn.com/image/fetch/$s_!o6bX!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png" srcset="https://substackcdn.com/image/fetch/$s_!o6bX!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png 424w, https://substackcdn.com/image/fetch/$s_!o6bX!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png 848w, https://substackcdn.com/image/fetch/$s_!o6bX!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png 1272w, https://substackcdn.com/image/fetch/$s_!o6bX!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fab16b9e2-5d2d-4046-9513-fe928ca833f5_1524x793.png 1456w"/></picture></a></figure>
<p>At first glance, the patterns look comfortingly familiar. Central London dominates. Of course it does. But what matters is not just where the hubs are - it’s what kind of hubs they are. Using the full hub score rather than raw ratings alone, I identify the five most structurally powerful restaurant hubs in London. They are the places where density, algorithmic attention, independent survival, and consumer spending power all line up at once. They are labeled on the maps. I am deliberately refusing to rank them loudly in prose in order to avoid starting neighbourhood wars at scale (and to not disappoint Islington) - but the visual story is already extremely clear.</p>
<p>Overlaying this with the cuisine density panels reveals something even sharper. London’s culinary diversity is not evenly distributed across its platform economy. Migrant cuisines cluster strongly in parts of the city where algorithmic visibility is structurally weaker. Italian, Indian, Turkish, Chinese, Thai, British, Japanese, French, American, and fish-and-chips all trace distinct settlement histories, labour networks, retail formats, and relationships to capital and rent. Some cuisines form long, contiguous corridors. Others appear as punctuated clusters tied to specific high streets or income brackets.</p>
<p>Cuisine diversity, in other words, is not just about taste. It is about where families settled, which high streets remained affordable long enough for a second generation to open businesses, and which parts of the city experienced displacement before culinary ecosystems could mature. (If this part especially speaks to you, I go much deeper into it in <em><a href="https://laurenleek.substack.com/p/food-for-thought-local-restaurant">Food for thought: local restaurant diversity meets migration</a></em>).</p>
<figure><a data-component-name="Image2ToDOM" href="https://substackcdn.com/image/fetch/$s_!gpKm!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png"><picture><img alt="" data-attrs='{"src":"https://substack-post-media.s3.amazonaws.com/public/images/0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png","srcNoWatermark":null,"fullscreen":null,"imageSize":null,"height":645,"width":1456,"resizeWidth":null,"bytes":475956,"alt":"","title":null,"type":"image/png","href":null,"belowTheFold":true,"topImage":false,"internalRedirect":"https://laurenleek.substack.com/i/180907039?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png","isProcessing":false,"align":null,"offset":false}' sizes="100vw" src="https://substackcdn.com/image/fetch/$s_!gpKm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png" srcset="https://substackcdn.com/image/fetch/$s_!gpKm!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png 424w, https://substackcdn.com/image/fetch/$s_!gpKm!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png 848w, https://substackcdn.com/image/fetch/$s_!gpKm!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png 1272w, https://substackcdn.com/image/fetch/$s_!gpKm!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0b2aa425-fb4f-435e-ac4f-423e50a695dc_1811x802.png 1456w"/></picture></a></figure>
<p><strong>The Take-Away and Some Unwanted Policy Advice</strong></p>
<p>This project started as a search problem and ended as something more. The most important result isn’t which neighbourhood tops the rankings - it’s the realisation that platforms now quietly structure survival in everyday urban markets. London’s restaurant scene is no longer organised by taste alone. It is organised by visibility that compounds, rent that rises when discovery arrives, and algorithms that allocate attention long before consumers ever show up. What looks like “choice” is increasingly the downstream effect of ranking systems.</p>
<p>For policy, that shifts the frame. If discovery now shapes small-business survival, then competition, fairness, and urban regeneration can no longer ignore platform ranking systems. Councils can rebuild streets and liberalise licensing all they like - but algorithmic invisibility can still leave places economically stranded. Platform transparency and auditability are no longer niche tech debates; they are quietly becoming tools of local economic policy. At minimum, ranking algorithms with this much economic consequence should be auditable. We audit financial markets. We should audit attention markets too.</p>
<p>For a navigation app, Google maps has a remarkable amount of power.<br/>
Just saying.</p>
<p><em>I’m also working on other maps (including a map of the best cycling and running routes with excellent cafés along the way, because I have needs). More broadly, I’m investing more and more time into building higher-quality public data projects. If you have an idea you’d like to see built - pitch it to me. And if you enjoy this kind of work, you can always <a href="https://buymeacoffee.com/laurenleek">Buy Me A Coffee</a> or subscribe to help fund the next round of over-engineered maps.</em></p>

<p></p>
<h3>Ready for more?</h3>
